{% extends "base.html" %} {% block head %} {% endblock %} {% block content %}
<div class="col-md-4 col-md-offset-4">
  <form id="signupForm" method="POST">
    {% csrf_token %}
    <h2>Sign Up</h2>
    <div class="form-group">
      <label for="name">User Name</label>
      <input
        type="text"
        class="form-control"
        id="name"
        name="name"
        placeholder="Enter full name"
      />
    </div>
    <div class="form-group">
      <label for="email">Email address</label>
      <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        placeholder="Enter email"
      />
    </div>
    <div class="form-group">
      <label for="password">Passphrase</label>
      <input
        type="password"
        class="form-control"
        id="password"
        name="password"
        placeholder="Password"
      />
    </div>
    <button type="submit" class="btn btn-primary" onclick="submitForm()">
      Sign Up
    </button>
  </form>
</div>
<script>
  function submitForm() {
    event.preventDefault();
    var form = document.getElementById("signupForm");
    var formData = new FormData(form);
    var jsonData = {};

    formData.forEach(function (value, key) {
      jsonData[key] = value;
    });

    fetch("/signup/", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(jsonData),
    })
      .then((response) => response.json())
      .then((data) => console.log(data))
      .catch((error) => console.error("Error:", error));
  }
</script>
{% endblock %}
